import{_ as a,c as i,o as n,a2 as e}from"./chunks/framework.pthEGswZ.js";const o=JSON.parse('{"title":"Installation","description":"","frontmatter":{},"headers":[],"relativePath":"usage/installation.md","filePath":"usage/installation.md"}'),l={name:"usage/installation.md"};function t(p,s,h,r,k,d){return n(),i("div",null,s[0]||(s[0]=[e(`<h1 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">​</a></h1><h2 id="dependencies" tabindex="-1"><strong>Dependencies</strong> <a class="header-anchor" href="#dependencies" aria-label="Permalink to &quot;**Dependencies**&quot;">​</a></h2><p>Requirements:</p><ul><li>Kubernetes cluster ≥ 1.32</li><li>Cilium or Calico networking with BGP peering (or exposing services externally via LoadBalancers)</li></ul><h2 id="install-guide" tabindex="-1">Install Guide <a class="header-anchor" href="#install-guide" aria-label="Permalink to &quot;Install Guide&quot;">​</a></h2><ol><li>Generate multi cluster configuration using script <a href="https://github.com/HIRO-MicroDataCenters-BV/anyapplication-controller/tree/main/config/generator" target="_blank" rel="noreferrer">here</a></li></ol><p>The command below will generate development configuration from ./config-dev.yaml file for two clusters - kind-cluster1 and kind-cluster2.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./generate.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create-config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./config-dev.yaml</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./target</span></span></code></pre></div><p>Note that the script will generate keys for all clusters. New ones are generated on every call.</p><ol start="2"><li>Execute install scripts for all clusters:</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># kind-kind-cluster1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./target/kind-kind-cluster1/anyapplication-install.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./target/kind-kind-cluster1/mesh-install.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./target/kind-kind-cluster1/placement-install.sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># kind-kind-cluster2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./target/kind-kind-cluster2/anyapplication-install.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./target/kind-kind-cluster2/mesh-install.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./target/kind-kind-cluster2/placement-install.sh</span></span></code></pre></div><h2 id="uninstall-guide" tabindex="-1">Uninstall Guide <a class="header-anchor" href="#uninstall-guide" aria-label="Permalink to &quot;Uninstall Guide&quot;">​</a></h2><p>Execute uninstall scripts for all clusters</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># kind-kind-cluster1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./target/kind-kind-cluster1/anyapplication-uninstall.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./target/kind-kind-cluster1/mesh-uninstall.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./target/kind-kind-cluster1/placement-uninstall.sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># kind-kind-cluster2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./target/kind-kind-cluster2/anyapplication-uninstall.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./target/kind-kind-cluster2/mesh-uninstall.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./target/kind-kind-cluster2/placement-uninstall.sh</span></span></code></pre></div><h2 id="application-deployment" tabindex="-1">Application Deployment <a class="header-anchor" href="#application-deployment" aria-label="Permalink to &quot;Application Deployment&quot;">​</a></h2><p>The application is deployed via Kubernetes Resource where the application is referenced by its helm chart.</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">---</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">apiVersion: dcp.hiro.io/v</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">kind: AnyApplication</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metadata:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: my-app</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  namespace: default</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">spec:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  source: </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    helm:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      repository: https:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//helm.app.com/stable</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      chart: my-app</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      version: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      namespace: default</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      values: |-</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          # values overrides</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  zones: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  placementStrategy: </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    strategy: Global</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  recoverStrategy:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    tolerance: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    maxRetries: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span></span></code></pre></div>`,17)]))}const g=a(l,[["render",t]]);export{o as __pageData,g as default};
